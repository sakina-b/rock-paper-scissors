<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>RPS</title>
</head>
<body>
<button id="r">Rock</button>
<button id="p">Paper</button>
<button id="s">Scissors</button>
<div id="display"></div>
<script>
const display=document.querySelector('#display');
let pscore=0;
let cscore=0;
function computerPlay(){
        return Math.floor(Math.random() * 3) + 1;
}
function playRound(playerSelection,computerSelection) {
        if(!(pscore==5 || cscore==5)){
       if(playerSelection==0){
         let ip=document.createElement('p');
	 ip.textContent="Invalid choice";
	 display.appendChild(ip);
        }
        if(computerSelection==playerSelection){
	        let ip=document.createElement('p');
	                ip.textContent="It's a draw!";
	                display.appendChild(ip);
	        }
	else if(computerSelection==1){
	        if(playerSelection==2){
	                let ip=document.createElement('p');
	                ip.textContent="You won! Paper beats rock.";
	                display.appendChild(ip);
	                pscore+=1;
	                }
	        else if(playerSelection==3){
	                let ip=document.createElement('p');
	                ip.textContent="You lose! Rock beats scissors.";
	                display.appendChild(ip);
	                cscore+=1;
	                }
	}
	else if(computerSelection==2){
	        if(playerSelection==1){
	                let ip=document.createElement('p');
	                ip.textContent="You lose! Paper beats rock.";
	                display.appendChild(ip);
	                cscore+=1;
	                }
	        else if(playerSelection==3){
	                let ip=document.createElement('p');
	                ip.textContent="You won! Scissors beat paper.";
	                display.appendChild(ip);
	                pscore+=1;
	                }
	}
	else if(computerSelection==3){
	        if(playerSelection==1){
	                let ip=document.createElement('p');
	                ip.textContent="You won! Rock beats scissors.";
	                display.appendChild(ip);
	                pscore+=1;
	                }
	        else if(playerSelection==2){
	                let ip=document.createElement('p');
	                ip.textContent="You lose! Scissors beat paper.";
	                display.appendChild(ip);
	                cscore+=1;
	                }
        }
        let fp=document.createElement('p');
	fp.textContent=`Score : Player's score - ${pscore} , Computer's score - ${cscore}`;
	display.appendChild(fp);
        if(pscore==5 || cscore==5){
        if(pscore==5){
                let fr=document.createElement('p');
	        fr.textContent="Congrats! You won.";
	        display.appendChild(fr);
	        }
        if(cscore==5){
                let fr=document.createElement('p');
	        fr.textContent="Boo! You Lost.";
	        display.appendChild(fr);
	        }
        }
}
else{
        let pa=document.createElement('p');
	pa.textContent="Game Over! Refresh the page to play the game again.";
	display.appendChild(pa);
}
}
let playerSelection=0;  
const computerSelection=computerPlay(); 
const rock=document.getElementById('r');
rock.addEventListener('click', () => {
        playRound(1,computerSelection);
});
const paper=document.getElementById('p');
paper.addEventListener('click', () => {
        playRound(2,computerSelection);
});
const scissors=document.getElementById('s');
scissors.addEventListener('click', () => {
        playRound(3,computerSelection);
});

</script>
</body>
</html>
